\clearpage
\section{Experimentación Y Resultados}

\subsection{Introducción}
 Realizamos los experimentos en tres computadoras con procesadores similares y se trató de mantener cualquier otro programa cerrado. Igualmente cada conjunto de test fue resuelto en la misma máquina para que las diferencias sean lo más dependendientes a los inputs y los procesos posible.

\subsection{Temperatura en el punto crítico variando granularidad}

En esta sección queremos ver que ocurre con la temperatura en el punto crítico para distintas granularidades de la misma instancia. Para tal fin vamos a presentar distintos tipos de instancias que pueden ser enriquecedoras para el analisis. Queremos aclarar que no nos pareció relevante el analisis con un sanguijuela sobre el punto crítico ya que la temperatura no sufriría variación alguna. Esto último es debido a que todavía no utilizaremos los metodos de eliminación de sanguijuelas para mantener el punto crítico a menos de 235º

\begin{description}

\item[Caso 1:] 8 sanguijuelas rodeando al punto crítico.
\item[Caso 2:] Una sanguijuela muy cercana al punto crítico.
\item[Caso 3:] 5 sanguijuelas alineadas debajo del punto crítico.
\end{description}

Las condiciones del parabrisas que utilizaremos para los 5 casos seran similiares, un ancho y alto de 1024 (para tener un gran espacio de testeo y cantidad de divisores), con una temperatura de 400º para las sanguijuelas (para que influya pero que a su vez no sean tan determinantes) y un radio de 16 posiciones. El valor de las discretizaciones que elegimos para cada caso está limitado en función la cantidad de sanguijuelas ya que a medida que aumenta el valor la cantidad de posiciones disponibles en el parabrisas disminuye\\ \\
\newpage
Caso 1:

\begin{figure}[htb]
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso1_4.png} 
\caption{Granularidad: 4 - Temperatura: 382.021$^{\circ}$} 
        \end{center}
\endminipage\hfill
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso1_8.png} 
\caption{Granularidad: 8 - Temperatura: 380.138$^{\circ}$} 
        \end{center}
\endminipage\hfill 
\end{figure}

\begin{figure}[htb]
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso1_16.png} 
\caption{Granularidad: 16 - Temperatura: 375.96$^{\circ}$} 
        \end{center}
\endminipage\hfill
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso1_32.png} 
\caption{Granularidad: 32 - Temperatura: 362.425$^{\circ}$} 
        \end{center}
\endminipage\hfill 
\end{figure}

\begin{figure}[htb]
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso1_64.png} 
\caption{Granularidad: 64 - Temperatura: 321.288$^{\circ}$} 
        \end{center}
\endminipage\hfill
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso1_128.png} 
\caption{Granularidad: 128 - Temperatura: 268.117$^{\circ}$} 
        \end{center}
\endminipage\hfill 
\end{figure}
\newpage 
Caso 2:

\begin{figure}[htb]
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso2_4.png} 
\caption{Granularidad: 4 - Temperatura: 166.282$^{\circ}$} 
        \end{center}
\endminipage\hfill
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso2_8.png} 
\caption{Granularidad: 8 - Temperatura: 163.331$^{\circ}$} 
        \end{center}
\endminipage\hfill 
\end{figure}

\begin{figure}[htb]
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso2_16.png} 
\caption{Granularidad: 16 - Temperatura: 158.461$^{\circ}$} 
        \end{center}
\endminipage\hfill
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso2_32.png} 
\caption{Granularidad: 32 - Temperatura: 153.939$^{\circ}$} 
        \end{center}
\endminipage\hfill 
\end{figure}

\begin{figure}[htb]
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso2_72.png} 
\caption{Granularidad: 72 - Temperatura: 138.874$^{\circ}$} 
        \end{center}
\endminipage\hfill
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso2_128.png} 
\caption{Granularidad: 128 - Temperatura: 81.2233$^{\circ}$} 
        \end{center}
\endminipage\hfill 
\end{figure}
\newpage
Caso 3:
\begin{figure}[htb]
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso3_4.png} 
\caption{Granularidad: 4 - Temperatura: 154.532$^{\circ}$} 
        \end{center}
\endminipage\hfill
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso3_8.png} 
\caption{Granularidad: 8 - Temperatura: 153.194$^{\circ}$} 
        \end{center}
\endminipage\hfill 
\end{figure}

\begin{figure}[htb]
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso3_16.png} 
\caption{Granularidad: 16 - Temperatura: 150.55$^{\circ}$} 
        \end{center}
\endminipage\hfill
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso3_32.png} 
\caption{Granularidad: 32 - Temperatura: 146.013$^{\circ}$} 
        \end{center}
\endminipage\hfill 
\end{figure}

\begin{figure}[htb]
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso3_64.png} 
\caption{Granularidad: 64 - Temperatura: 137.51$^{\circ}$} 
        \end{center}
\endminipage\hfill
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/caso3_100.png} 
\caption{Granularidad: 100 - Temperatura: 100.115$^{\circ}$} 
        \end{center}
\endminipage\hfill 
\end{figure}
\newpage
\begin{figure}[htb]
\begin{center}
        \includegraphics[scale=0.5]{imagenes/comparacion_temperatura.png}
                \caption{Comparación de temperaturas}
        \end{center}

\end{figure}

Por lo que se puede observar en los gráficos de como va fluctuando la temperatura a medida que se aumenta el valor de discretización (que provoca disminución en la granuralidad) para los 3 casos de prueba y con el ultimo gráfico comparativo, como era de esperarse, la temperatura disminuye en el punto crítico, esto es debido a que a mayor granularidad las sanguijuelas tienen mas borde en el parabrisas para transferir el calor ya que dependiendo el radio de la sanguijuela provoca que ocupe más puntos en el parabrisas. Esto último del radio se puede ver cuando en los últimos gráficos de cada caso cuando la garrulidad es minima que las sanguijuelas pasan a ocupar una posición del parabrisas.

\newpage

\subsection{Tiempo de corrida variando granularidad}
Utilizando los mismos casos de prueba que para la comparación de temperaturas medimos los tiempos que tomaban los dos algoritmos de resolución normal y banda. Los parámetros que utilizamos en esta oportunidad también son similares a la sección anterior, menos el valor de discretización que es el variable. Los valores que tomamos para este caso estan en el intervalo de [4;50] para el algoritmo de banda y [18;95] para el normal, y la razón de esto es que para valores muy chicos el tiempo de cómputo era tal para el algoritmo normal que el SO mataba el proceso y para valores muy grandes los dos algoritmos empezaban a acercarse al cero por lo que decidimos que era un buen número de limite superior. \\
A continuación el gráfico de tiempos:
\begin{figure}[htb]
\begin{center}
        \includegraphics[scale=0.5]{imagenes/comparacion_tiempos.png}
                \caption{Comparación de tiempos}
        \end{center}

\end{figure}

Por los resultados que obtuvimos se puede ver claramente que para un mismo algoritmo el tiempo de cómputo es similar en los 3 casos para cada valor de discretización, esto se debe a que el tamaño del parabrisas es el mismo. Además se puede ver que los dos algoritmos se comportan de una forma parecida (de forma exponencial a menor valor de discretización), con la diferencia de que los tiempos del algoritmo normal tardan 350 veces más aproximadamente, siendo esto esperado debido a que el algoritmo que utiliza la matriz banda optimiza cuestiones tanto espaciales como temporales
\subsection{A matar sanguijuelas}
A continuación analizaremos dos instancias de parabrisas con sanguijuelas para evaluar los resultados de las soluciones otorgadas por los algoritmos random y greedy. 
\subsection{Caso trivial}

En esta instancia observaremos un caso en el que la única sanguijuela que se debe eliminar es la del centro. Esta se encuentra exactamente en el punto central. Adicionalmente hay otras 4 sanguijuelas en las puntas. 
Matar a estas no soluciona nada ya que la del centro esta aplicando una temperatura constante de 400 Cº. Lo observaremos con 4 discretizaciones distintas para tener un mas amplio panorama.

\begin{figure}[htb]

\minipage{0.5\textwidth}
\begin{center}
       \includegraphics[scale=0.3]{imagenes/test5_gran1.png}
                \caption{Granularidad 1}
        \end{center}
\endminipage\hfill
\minipage{0.5\textwidth}
\begin{center}
        \includegraphics[scale=0.3]{imagenes/test5.png}
                \caption{Granularidad 2.5}
        \end{center}
\endminipage\hfill 
\end{figure}

\begin{figure}[!htb]
\minipage{0.5\textwidth}
\begin{center}
    \includegraphics[scale=0.3]{imagenes/test5_gran5.png}
                \caption{Granularidad 5}
 \end{center}
\endminipage
\minipage{0.5\textwidth}
\begin{center}
   \includegraphics[scale=0.3]{imagenes/test5_gran10.png}
                \caption{Granularidad 10}
        \end{center}
\endminipage\hfill
\end{figure}
\clearpage

\subsubsection{Resultados Random}

Ahora veamos que obtenemos al aplicarle distintas veces el algoritmo de solución random explicado en el desarrollo (\ref{sec:solucionRandom}) a la instancia con granularidad 2.5.

\begin{figure}[htb]

\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/random_1.png} 
\caption{Resultado primer corrida} 
        \end{center}
\endminipage\hfill
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.3]{imagenes/random_2.png} 
\caption{Resultado segunda corrida} 
        \end{center}
\endminipage\hfill 
\end{figure}

\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.3]{imagenes/random_3.png} 
\caption{Resultado tercer corrida} 
\end{center}
\end{figure}
Como podemos observar la solución óptima (la que menos sanguijuelas elimina), es la segunda. Pero como esta solución es completamente random en la primera corrida mata 2 sanguijuelas antes de elegir 
la correcta y en la tercera 4. Sólo en la segunda elije en el primer intento la sanguijuela correcta. Se aplicó también para todas las granularidades antes mencionadas y se observó el mismo comportamiento erratico a la hora
de matar sanguijuelas. 

\clearpage


\subsubsection{Resultados Greedy}

Veamos ahora para la misma matriz como se comporta nuestro otro algoritmo. 


\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.40]{imagenes/random_2.png} 
\caption{Resultado corrida con greedy} 
\end{center}
\end{figure}


En todas las corridas obtuvimos el mismo resultado y demoraron lo mismo. Si bien con las otras granularidades el tiempo no fué el mismo (a menor granularidad, osea menor cantidad de celdas,  menor tiempo de computo como vimos anteriormente) el resultado si lo fué. Era de esperarse, ya que efectivamente en este caso, la sanguijuela a eliminar era la del medio que naturalmente es la más cercana al punto crítico.
\newpage

\subsection{Caso solución no es el mas cercano}

A continuación analizaremos un caso en el cual se debe eliminar una sanguijuela que no es la más cercana para efectivamente poder reducir la temperatura en el punto crítico. Lo chequearemos tanto para Greedy como para el Random, haciendo 3 corridas para este último ya que sabemos que su comportamiento es fluctuoso.
Los datos exactos de este test son:\\
Medidas: 100 x 100 \\* 
discretización:1 \\* 
radio: 0.9 \\* 
tempreratura sanguijuelas:450 \\* 
Posiciónes sanguijuelas:(49, 38);(57, 60);(57, 37);(39, 37);(36, 47) \\* 
\begin{figure}[htb]
\begin{center}
\includegraphics[scale=0.40]{imagenes/test6.png} 
\caption{Parabrisas granularidad 1} 
\end{center}
\end{figure}

Como podemos observar en las imágenes que están debajo, la solución greedy no es la óptima ya que mató a dos sanguijuelas y la random en algunos casos a una sola. Esto es debido a que la temperatura emitida por la sanguijuela mas cercana tiene un bajo impacto en el calor total recibido por el punto crítico, ya que este se encuentra `rodeado' de sanguijuelas. Como la sanguijuela mas cercana tiene otras dos cerca de ella que también irradian calor al pc, si matamos a esta el punto central sigue recibiendo un considerable calor de la zona en la que se encontraba. En cambio si matamos alguna de las sanguijuelas que están mas aisladas esto cambia. Veamoslo en las soluciones obtenidas por nuestras algoritmos. 
\clearpage
\begin{figure}[htb]
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.40]{imagenes/test6_greedy.png} 
\caption{Solución Greedy} 

        \end{center}
\endminipage\hfill
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.40]{imagenes/test6_random.png} 
\caption{Solución Random 1} 
        \end{center}
\endminipage\hfill 
\end{figure}

\begin{figure}[htb]
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.40]{imagenes/test6_random_2.png} 
\caption{Solución random 2} 
        \end{center}
\endminipage\hfill 
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.40]{imagenes/test6_random_3.png} 
\caption{Solución random 3} 
        \end{center}
\endminipage\hfill 
\end{figure}


El greedy mató primero a la sanguijuela de la posición (49,38) ya que era la mas cercana. Sin embargo si mataba primero la (57,60) la temperatura en el punto crítico disminuía lo suficiente. Esto podemos corroborarlo observando la tercera solución del Random.
El random por otro lado nos dió 3 resultados distintos de los cuales dos son válidos. Cabe destacar sin embargo que el erroneo nos lo devolvió 2 veces, por lo que podemos decir que tuvo un 50\% de efectividad. 

\subsubsection{Variando la granularidad}

Como vimos anteriormente, la temperatura en el punto crítico varía según la granularidad que le demos. Veamos entonces que pasa si aumentamos la granularidad (H = 0.8 en vez de 1).
\clearpage
\begin{figure}[htb]
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.40]{imagenes/test6_g08_greedy.png} 
\caption{Solución Greedy} 

        \end{center}
\endminipage\hfill
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.40]{imagenes/test6_g08_random.png} 
\caption{Solución Random 1} 
        \end{center}
\endminipage\hfill 
\end{figure}

\begin{figure}[htb]
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.40]{imagenes/test6_g08_random_2.png} 
\caption{Solución Random 2} 

        \end{center}
\endminipage\hfill
\minipage{0.5\textwidth}
\begin{center}
\includegraphics[scale=0.40]{imagenes/test6_g08_random_3.png} 
\caption{Solución Random 3} 
        \end{center}
\endminipage\hfill 
\end{figure}

Como le aumentamos la granularidad aumentó la temperatura del punto central de tal forma que provocó que tampoco bastase eliminando una sola sangijuela (sea cual sea esta), obteniendo así la misma cantidad de sangijuelas tanto en al solución óptima como en la greedy. El Random esta vez devolvió un sólo resultado correcto ya que los otros dos mataron sanguijuelas de más.
